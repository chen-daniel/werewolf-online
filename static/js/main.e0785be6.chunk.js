(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{114:function(e,n){},121:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(56),c=t.n(o),l=(t(66),t(67),t(17)),i=t(1),m=t(7),u=t(26),s=t.n(u),d=t(18),f=t.n(d),p=t(57),h=t.n(p);function g(){var e=r.a.useState(""),n=Object(m.a)(e,2),t=n[0],a=n[1];return r.a.createElement("div",{className:"App"},r.a.createElement("div",null,"Join as:",r.a.createElement("input",{type:"text",value:t,onChange:function(e){return a(e.target.value)}})),r.a.createElement(E,{name:t}))}function E(e){var n=e.name,t=r.a.useState(0),a=Object(m.a)(t,2),o=a[0],c=a[1],l=r.a.useState(""),u=Object(m.a)(l,2),d=u[0],p=u[1],h=r.a.useState(!1),g=Object(m.a)(h,2),E=g[0],v=g[1];function b(){n.length>0&&4===d.length&&function(e,n){return s.a.post("".concat(f.a.api,"/join-room"),{name:e,room:n}).then((function(e){return e.data})).catch((function(e){return console.log(e),{}}))}(n,d).then((function(e){v({pathname:"room/".concat(e.room),state:{name:n}})}))}function k(){n.length>0&&function(e){return s.a.post("".concat(f.a.api,"/create-room"),{name:e}).then((function(e){return e.data})).catch((function(e){return console.log(e),{}}))}(n).then((function(e){v({pathname:"room/".concat(e.room),state:{name:n}})}))}return r.a.createElement("div",null,function(e){switch(e){case 0:return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:k},"CREATE ROOM"),"OR",r.a.createElement("button",{onClick:function(){return c(1)}},"JOIN ROOM"));case 1:return r.a.createElement(r.a.Fragment,null,"Room code:",r.a.createElement("input",{type:"text",value:d,onChange:function(e){return p(e.target.value)}}),r.a.createElement("button",{onClick:b},"Join Room"))}}(o),E&&r.a.createElement(i.a,{to:E}))}var v=t(5),b=t(6);function k(){var e=Object(v.a)(["\n    border: 5px solid purple;\n    height: 17rem;\n    width: 11rem;\n  "]);return k=function(){return e},e}function y(){var e=Object(v.a)(["\n    height: 11rem;\n    width: 8rem;\n    border: 5px solid darkcyan;\n  "]);return y=function(){return e},e}function O(){var e=Object(v.a)(["\n    height: 35rem;\n    width: 21rem;\n   border: 5px solid deeppink;\n  "]);return O=function(){return e},e}function j(){var e=Object(v.a)(["\n  height: 12rem;\n  width: 9rem;\n  background: pink;\n  border-radius: 13px;\n  box-shadow: 0 0.2rem 1rem rgba(0, 0, 0, 0.15);\n  display: flex;\n  color: #fff;\n  justify-content: center;\n  align-items: center;\n  h1 {\n    font-size: 7rem;\n    margin: 0;\n    padding: 0;\n    line-height: 1;\n  }\n\n  ","\n  ","\n  ","\n"]);return j=function(){return e},e}var w=b.b.div(j(),(function(e){return e.me&&Object(b.a)(O())}),(function(e){return e.deck&&Object(b.a)(y())}),(function(e){return e.player&&Object(b.a)(k())})),x=function(e){var n=e.me,t=e.deck,a=e.player;return r.a.createElement(w,{me:n,player:a,deck:t},r.a.createElement("h1",null,"X"))};function S(){var e=Object(v.a)(['\n   margin-top: 5%;\n  margin-right: 10%;\n  display: grid;\n  justify-content: center;\n  align-content: center;\n  align-items: center;\n  justify-items: center;\n   grid-template-columns: 0.4fr 0.6fr;\n   grid-template-rows: 0.7fr 0.3fr;\n   grid-template-areas: \n    "leftSide header"\n    "leftSide  rightSide";\n  div {\n    display: flex;\n    margin-left: 1rem;\n    margin-top: 1rem;\n  }\n  .deck {\n    grid-area: header;\n  }\n  .me {\n    grid-area: leftSide;\n  }\n  .deck {\n    grid-area: header;\n  }\n\n  .flx {\n    color: gray;\n    h4 {\n      margin: 0;\n      text-align: center;\n    }\n    display: flex;\n    flex-flow: column;\n  }\n']);return S=function(){return e},e}var N=b.b.div(S());function C(e){var n=e.state,t=e.socketRef,a=e.playerName,o=e.room;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Game started with deck:",JSON.stringify(n.game.deck),r.a.createElement("br",null),"Your role:",n.game.roles.playerRoles[a],r.a.createElement("br",null),"Narration:",n.narration,r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){t.current.emit("submit confirm",{room:o,playerName:a})}},"Confirm")),r.a.createElement(N,null,r.a.createElement("div",{className:"deck"},r.a.createElement(x,{deck:!0}),r.a.createElement(x,{deck:!0}),r.a.createElement(x,{deck:!0})),r.a.createElement("div",{className:"me"},r.a.createElement(x,{me:!0})),r.a.createElement("div",{className:"otherPlayers"},["P1","P2","P3","P4"].map((function(e){return r.a.createElement("div",{className:"flx"},r.a.createElement("h4",null,"$",e),r.a.createElement(x,{player:!0}))})))))}function R(e){var n=e.match,t=e.location,o=n.params.roomID,c=t.state&&t.state.name,l=r.a.useRef(),u=r.a.useState({}),s=Object(m.a)(u,2),d=s[0],p=s[1];function g(e){l.current.emit("toggle deck option",{room:o,option:e.target.value})}return Object(a.useEffect)((function(){c&&(l.current=h.a.connect(f.a.api),l.current.emit("join room",{room:o,playerName:c}),l.current.on("update state",(function(e){console.log(e),p(e)})))}),[]),r.a.createElement("div",null,r.a.createElement("div",null,!c&&r.a.createElement(i.a,{to:"/"}),"This is room ",o,".",r.a.createElement("br",null),"Your name is ",c,"."),r.a.createElement("div",null,"Players in room:",JSON.stringify(d.players)),"started"!==d.roomState&&d.deckOpts&&r.a.createElement("div",null,r.a.createElement("ul",null,Object.keys(d.deckOpts).map((function(e,n){return r.a.createElement("li",{key:n},r.a.createElement("input",{type:"radio",value:e,checked:d.deckOpts[e],onClick:g,onChange:function(e){return console.log(e)}})," ",e)})))),"ready"===d.roomState&&r.a.createElement("button",{onClick:function(){l.current.emit("start game",{room:o})}},"Start Game"),"started"===d.roomState&&r.a.createElement(C,{state:d,playerName:c,room:o,socketRef:l}))}var J=function(){return r.a.createElement(l.a,null,r.a.createElement("div",null,r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:g}),r.a.createElement(i.b,{path:"/room/:roomID",component:R}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},18:function(e,n,t){e.exports={api:"https://still-oasis-65835.herokuapp.com"}},61:function(e,n,t){e.exports=t(121)},66:function(e,n,t){},67:function(e,n,t){}},[[61,1,2]]]);
//# sourceMappingURL=main.e0785be6.chunk.js.map